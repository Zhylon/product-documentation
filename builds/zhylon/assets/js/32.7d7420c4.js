(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{307:function(e,n,s){"use strict";s.r(n);var t=s(14),r=Object(t.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"cookbook"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cookbook"}},[e._v("#")]),e._v(" Cookbook")]),e._v(" "),n("p",[e._v("Häufige Aufgaben und Lösungen zur Verwaltung deines Zhylon-Servers.")]),e._v(" "),n("h2",{attrs:{id:"neustart-von-php-fpm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#neustart-von-php-fpm"}},[e._v("#")]),e._v(" Neustart von PHP FPM")]),e._v(" "),n("p",[e._v('Bei der Konfiguration deines Servers konfiguriert Zhylon FPM so, dass es ohne das "sudo"-Passwort deines Servers neu gestartet werden kann.\nDazu gibst du den folgenden Befehl ein.\nNatürlich solltest du die PHP-Version an die installierte Version auf deinem System anpassen:')]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v(" flock "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-w")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("9")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("||")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("exit")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Restarting FPM...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-S")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$ZHYLON_PHP_FPM")]),e._v(" reload "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[e._v("9")]),e._v(">")]),e._v("/tmp/fpmlock\n")])])]),n("h2",{attrs:{id:"zurucksetzen-des-sudo-passworts-des-zhylon-benutzers"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#zurucksetzen-des-sudo-passworts-des-zhylon-benutzers"}},[e._v("#")]),e._v(" Zurücksetzen des sudo-Passworts des "),n("strong",[n("code",[e._v("zhylon")])]),e._v("-Benutzers")]),e._v(" "),n("p",[e._v("Zhylon speichert das sudo-Passwort deines Servers für den Benutzer "),n("strong",[n("code",[e._v("zhylon")])]),e._v(" nicht und kann es daher nicht für dich zurücksetzen.\nUm das sudo-Passwort des "),n("strong",[n("code",[e._v("zhylon")])]),e._v("-Benutzers zurückzusetzen, musst du deinen Serveranbieter kontaktieren und SSH-Zugriff auf deinen\nServer als "),n("strong",[n("code",[e._v("root")])]),e._v("-Benutzer wiederherstellen.")]),e._v(" "),n("p",[e._v("Sobald du mit deinem Server als "),n("strong",[n("code",[e._v("root")])]),e._v("-Benutzer verbunden bist, solltest du den Befehl "),n("strong",[n("code",[e._v("passwd zhylon")])]),e._v(" ausführen,\num das sudo-Passwort des "),n("strong",[n("code",[e._v("zhylon")])]),e._v("-Benutzers neu festzulegen.")]),e._v(" "),n("h3",{attrs:{id:"digitalocean"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#digitalocean"}},[e._v("#")]),e._v(" DigitalOcean")]),e._v(" "),n("p",[e._v("Wenn deine Server von DigitalOcean verwaltet werden, helfen dir die folgenden Schritte, das Sudo-Passwort des Benutzers "),n("strong",[n("code",[e._v("zhylon")])]),e._v("\nüber das DigitalOcean-Dashboard zurückzusetzen.")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("Zunächst klickst du im DigitalOcean-Dashboard auf den Servernamen. Gehe dann zum Tab „Zugriff“ und klicke auf „Root-Passwort zurücksetzen“.\nIn der Regel wird dieser Vorgang den Server neu starten und das neue Sudo-Passwort des "),n("strong",[n("code",[e._v("root")])]),e._v("-Benutzers an die mit deinem DigitalOcean-Konto\nverknüpfte E-Mail-Adresse gesendet.")])]),e._v(" "),n("li",[n("p",[e._v("Als Nächstes klickst du im Tab „Zugriff“ auf „Droplet-Konsole starten“, um Zugriff auf das Serverterminal als "),n("strong",[n("code",[e._v("root")])]),e._v("-Benutzer zu erhalten.\nWährend dieses Schrittes wirst du aufgefordert, das Sudo-Passwort des "),n("strong",[n("code",[e._v("root")])]),e._v("-Benutzers neu festzulegen.")])]),e._v(" "),n("li",[n("p",[e._v("Schließlich führst du den Befehl "),n("strong",[n("code",[e._v("passwd zhylon")])]),e._v(" im Terminal als "),n("strong",[n("code",[e._v("root")])]),e._v("-Benutzer aus, um das Sudo-Passwort des Benutzers "),n("strong",[n("code",[e._v("zhylon")])]),e._v(" neu festzulegen.")])])]),e._v(" "),n("h3",{attrs:{id:"weitere-anbieter"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#weitere-anbieter"}},[e._v("#")]),e._v(" Weitere Anbieter")]),e._v(" "),n("p",[e._v("Weitere Anbieter haben möglicherweise unterschiedliche Schritte, um das Sudo-Passwort des "),n("strong",[n("code",[e._v("zhylon")])]),e._v("-Benutzers zurückzusetzen.\nBitte kontaktiere deinen Serveranbieter, um weitere Informationen zu erhalten.\nWir versuchen, diese Dokumentation zu aktualisieren, um weitere Anbieter hinzuzufügen.")]),e._v(" "),n("h2",{attrs:{id:"composer-upgrade"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#composer-upgrade"}},[e._v("#")]),e._v(" Composer Upgrade")]),e._v(" "),n("p",[e._v("Die neueste Version von Composer wird von Zhylon installiert, wenn ein neuer Server bereitgestellt wird.\nWenn dein Server jedoch älter wird, möchtest du möglicherweise die installierte Version von Composer aktualisieren.\nDu kannst dies mit folgendem Befehl tun:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("composer")]),e._v(" self-update "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--2")]),e._v("\n")])])]),n("p",[e._v("Dieser Befehl weist Composer an, sich selbst zu aktualisieren und speziell Version 2 auszuwählen.\nFalls deine Anwendung nicht mit Composer 2 kompatibel ist, kannst du jederzeit auf Composer 1 zurücksetzen:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("composer")]),e._v(" self-update "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--1")]),e._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("Hinweis")]),e._v(" "),n("p",[e._v("Server werden mit einem geplanten Job provisioniert, der Composer aktualisiert.\nDu solltest den bestehenden Job nach dem Upgrade von Composer löschen und neu erstellen, indem du zum Tab „Geplante Aufgaben“ des Servers gehst.")])]),e._v(" "),n("h2",{attrs:{id:"nginx-upgrade"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx-upgrade"}},[e._v("#")]),e._v(" Nginx Upgrade")]),e._v(" "),n("p",[e._v("Die neueste Version von Nginx wird von Zhylon installiert, wenn ein neuer Server bereitgestellt wird.\nWenn dein Server jedoch älter wird, möchtest du möglicherweise die installierte Version von Nginx aktualisieren.\nDu kannst dies mit den folgenden Befehlen tun:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" --only-upgrade nginx\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" nginx "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-v")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" nginx restart\n")])])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[e._v("Achtung")]),e._v(" "),n("p",[e._v("Du solltest die Nginx-Version auf deinem Server auf eigenes Risiko aktualisieren.\nDas Upgrade der auf deinem Server installierten Nginx-Version kann zu Ausfallzeiten oder Konflikten mit anderer installierter Software führen.")])]),e._v(" "),n("h2",{attrs:{id:"node-js-upgrade"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#node-js-upgrade"}},[e._v("#")]),e._v(" Node.js Upgrade")]),e._v(" "),n("p",[e._v("Die neueste LTS-Version von Node.js wird von Zhylon installiert, wenn ein neuer Server bereitgestellt wird.\nWenn dein Server jedoch älter wird, möchtest du möglicherweise die Version von Node.js aktualisieren:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" update --allow-releaseinfo-change "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v(" ca-certificates "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" gnupg\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-p")]),e._v(" /etc/apt/keyrings\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-fsSL")]),e._v(" https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" gpg "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--dearmor")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-o")]),e._v(" /etc/apt/keyrings/nodesource.gpg\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("NODE_MAJOR")]),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("22")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_'),n("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$NODE_MAJOR")]),e._v('.x nodistro main"')]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("tee")]),e._v(" /etc/apt/sources.list.d/nodesource.list\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" update --allow-releaseinfo-change "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt-get")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" nodejs "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n")])])]),n("p",[n("strong",[n("a",{attrs:{href:"https://nodejs.org/en/about/previous-releases/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js Versions-Informationen"),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"npm-upgrade"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-upgrade"}},[e._v("#")]),e._v(" npm Upgrade")]),e._v(" "),n("p",[e._v("Die neueste Version von npm wird von Zhylon installiert, wenn neue Server bereitgestellt werden.\nDu kannst jedoch die installierte Version von npm mit den folgenden Befehlen aktualisieren:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" npm@latest "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-g")]),e._v("\n")])])]),n("h2",{attrs:{id:"meilisearch-upgrade"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#meilisearch-upgrade"}},[e._v("#")]),e._v(" Meilisearch Upgrade")]),e._v(" "),n("p",[e._v("Wenn du die neuesten Meilisearch-Binärdateien auf deinem Server installieren möchtest, folge bitte dem\n"),n("strong",[n("a",{attrs:{href:"https://www.meilisearch.com/docs/learn/update_and_migration/updating",target:"_blank",rel:"noopener noreferrer"}},[e._v("offiziellen Upgrade-Leitfaden von Meilisearch"),n("OutboundLink")],1)]),e._v(".")]),e._v(" "),n("p",[e._v("Auf den meisten Zhylon-Servern ist die Meilisearch-Binärdatei unter "),n("strong",[n("code",[e._v("/usr/local/bin/meilisearch")])]),e._v("\ninstalliert und die Datenbank wird unter "),n("strong",[n("code",[e._v("/var/lib/meilisearch")])]),e._v(" gespeichert.")]),e._v(" "),n("h2",{attrs:{id:"digitalocean-droplet-limit-uberschritten"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#digitalocean-droplet-limit-uberschritten"}},[e._v("#")]),e._v(" DigitalOcean Droplet-Limit überschritten")]),e._v(" "),n("p",[e._v("Dieser Fehler wird von "),n("strong",[n("a",{attrs:{href:"https://digitalocean.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("DigitalOcean"),n("OutboundLink")],1)]),e._v(" zurückgegeben, wenn du das Limit erreicht hast, wie viele Droplets du erstellen kannst.\nDu kannst DigitalOcean bitten, dein Droplet-Limit zu erhöhen, indem du ihren Support kontaktierst.\nSobald sie dein Limit erhöht haben, kannst du in Zhylon Server erstellen.")]),e._v(" "),n("h2",{attrs:{id:"server-getrennt"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#server-getrennt"}},[e._v("#")]),e._v(" Server Getrennt")]),e._v(" "),n("p",[e._v("Es gibt mehrere Gründe, warum dein Server den Status „getrennt“ haben könnte.\nWir empfehlen dir, die folgenden häufigen Lösungen zu überprüfen, bevor du den Support kontaktierst:")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("Überprüfe, ob der Server über das Dashboard deines Serveranbieters eingeschaltet ist.\nWenn der Server ausgeschaltet ist, starte ihn über das "),n("strong",[e._v("Dashboard deines Anbieters")]),e._v(" neu.")])]),e._v(" "),n("li",[n("p",[e._v("Verifiziere, dass die öffentliche IP-Adresse des Servers bei Zhylon bekannt ist (die öffentliche IP-Adresse kann sich nach einem Neustart des VPS ändern).")])]),e._v(" "),n("li",[n("p",[e._v("Überprüfe, ob der von Zhylon generierte öffentliche Schlüssel für den Server in den Dateien "),n("strong",[n("code",[e._v("/root/.ssh/authorized_keys")])]),e._v(" und "),n("strong",[n("code",[e._v("/home/zhylon/.ssh/authorized_keys")])]),e._v(" enthalten ist.\nDieser Schlüssel ist im „Einstellungen“-Tab deines Server-Management-Panels von Zhylon verfügbar.")])]),e._v(" "),n("li",[n("p",[e._v("Wenn dein Server hinter einer Firewall steht, stelle sicher, dass du "),n("strong",[n("RouterLink",{attrs:{to:"/general/#zhylon-ip-adressen"}},[e._v("Zhylons IP-Adressen")])],1),e._v(" den Zugriff auf den Server erlaubt hast.")])]),e._v(" "),n("li",[n("p",[e._v("Wenn du Port 22 aus den Firewall-Regeln des Servers entfernt hast, musst du deinen Serveranbieter kontaktieren und ihn bitten, die Regel wiederherzustellen.\nDas Entfernen dieser Regel verhindert, dass Zhylon über SSH auf deinen Server zugreifen kann.")])]),e._v(" "),n("li",[n("p",[e._v("Entferne private Schlüssel oder andere Zeilen, die keinen gültigen öffentlichen Schlüssel enthalten, aus den Dateien\n"),n("strong",[n("code",[e._v("/root/.ssh/authorized_keys")])]),e._v(" und "),n("strong",[n("code",[e._v("/home/zhylon/.ssh/authorized_keys")])]),e._v(".")])])]),e._v(" "),n("p",[e._v("Wenn du weiterhin Probleme mit der Konnektivität hast, solltest du auch überprüfen, ob die Berechtigungen und der\nBesitz der folgenden Verzeichnisse und Dateien korrekt sind:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# Fixes the "root" user (run as root)')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" root:root /root\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-R")]),e._v(" root:root /root/.ssh\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("700")]),e._v(" /root/.ssh\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("600")]),e._v(" /root/.ssh/authorized_keys\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# Fixes the "zhylon" user')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" zhylon:zhylon /home/zhylon\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chown")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-R")]),e._v(" zhylon:zhylon /home/zhylon/.ssh\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("700")]),e._v(" /home/zhylon/.ssh\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("chmod")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("600")]),e._v(" /home/zhylon/.ssh/authorized_keys\n")])])]),n("p",[e._v("Wenn Zhylon nach all diesen Lösungen immer noch keine Verbindung zu deinem Server herstellen kann, du jedoch weiterhin per SSH auf den Server zugreifen kannst,\nführe bitte den folgenden Befehl als "),n("strong",[n("code",[e._v("root")])]),e._v("-Benutzer aus und teile die Ausgabe mit dem Support von Zhylon:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("grep")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'sshd'")]),e._v(" /var/log/auth.log "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("tail")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-n")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v("\n")])])]),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[e._v("Achtung")]),e._v(" "),n("p",[e._v("Wenn Zhylon keine Verbindung zu deinem Server herstellen kann, wirst du ihn bis zur Wiederherstellung der Konnektivität nicht über das Zhylon-Dashboard verwalten können.")])]),e._v(" "),n("h2",{attrs:{id:"„too-many-open-files-fehler"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#„too-many-open-files-fehler"}},[e._v("#")]),e._v(" „Too Many Open Files“-Fehler")]),e._v(" "),n("p",[e._v("Wenn du eine Fehlermeldung erhältst, dass auf deinem Server „zu viele Dateien geöffnet“ sind, musst du wahrscheinlich die maximale Anzahl von Dateideskriptoren erhöhen,\ndie dein Betriebssystem gleichzeitig zulässt. Dies kann besonders wichtig sein, wenn dein Server eine sehr hohe Anzahl eingehender Webanfragen verarbeiten muss.")]),e._v(" "),n("p",[e._v("Stelle zunächst sicher, dass die maximale Anzahl „offener Dateien“ korrekt konfiguriert ist, basierend auf der Größe deines Servers.\nÜblicherweise sollte die maximale Anzahl der vom Betriebssystem zulässigen offenen Dateien etwa 100 Dateien pro 1 MB RAM betragen.\nWenn dein Server beispielsweise 4 GB Arbeitsspeicher hat, kann die maximale Anzahl der offenen Dateien sicher auf "),n("strong",[n("code",[e._v("409600")])]),e._v(" gesetzt werden.")]),e._v(" "),n("p",[e._v("Du kannst ermitteln, wie viele Dateien dein Betriebssystem derzeit gleichzeitig öffnen kann, indem du den Befehl "),n("strong",[n("code",[e._v("sysctl fs.file-max")])]),e._v(" ausführst.\nDu kannst die vorhandene Einstellung ändern, indem du folgende Zeile in der Datei "),n("strong",[n("code",[e._v("/etc/sysctl.conf")])]),e._v(" hinzufügst oder modifizierst:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("fs.file-max "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" LIMIT_HERE \n")])])]),n("p",[e._v("Während die obigen Anweisungen die maximale Anzahl von „offenen Dateien“ systemweit festlegen, musst du diese Limits auch für jeden Serverbenutzer festlegen,\nindem du die Datei "),n("strong",[n("code",[e._v("/etc/security/limits.conf")])]),e._v(" bearbeitest und die folgenden Zeilen hinzufügst:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("root soft nofile LIMIT_HERE\nroot hard nofile LIMIT_HERE\nzhylon soft nofile LIMIT_HERE\nzhylon hard nofile LIMIT_HERE\n")])])]),n("p",[e._v("Natürlich müssen auch alle zusätzlichen Benutzer, die durch die Verwendung von „Site-Isolation“ auf deinem Server erstellt wurden,\nin die Datei "),n("strong",[n("code",[e._v("/etc/security/limits.conf")])]),e._v(" hinzugefügt werden:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("isolated-user soft nofile LIMIT_HERE\nisolated-user hard nofile LIMIT_HERE\n")])])]),n("p",[e._v("Zusätzlich, falls der Fehler „zu viele offene Dateien“ durch einen Nginx-Prozess ausgelöst wurde (was sehr häufig bei Load Balancern im großen Maßstab vorkommt),\nmusst du auch den Nginx-Benutzer in die Datei "),n("strong",[n("code",[e._v("/etc/security/limits.conf")])]),e._v(" hinzufügen:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[e._v("nginx soft nofile LIMIT_HERE\nnginx hard nofile LIMIT_HERE\n")])])]),n("p",[e._v("Und füge die folgende Direktive in die Datei "),n("strong",[n("code",[e._v("/etc/nginx/nginx.conf")])]),e._v(" deines Servers hinzu:")]),e._v(" "),n("div",{staticClass:"language-nginx extra-class"},[n("pre",{pre:!0,attrs:{class:"language-nginx"}},[n("code",[n("span",{pre:!0,attrs:{class:"token directive"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("worker_rlimit_nofile")]),e._v(" LIMIT_HERE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),n("p",[e._v("Du solltest den Nginx-Dienst neu starten, sobald diese Direktive zu deiner Nginx-Konfigurationsdatei hinzugefügt wurde:")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" nginx restart\n")])])])])}),[],!1,null,null,null);n.default=r.exports}}]);